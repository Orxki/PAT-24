unit Unit4;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants,
  System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.ComCtrls, Vcl.Imaging.pngimage,
  Vcl.ExtCtrls, Vcl.StdCtrls, Vcl.Samples.Spin, Data.DB, Vcl.Grids, Vcl.DBGrids,
  dmIsolytics;

type
  TForm4 = class(TForm)
    PageControl1: TPageControl;
    TabSheet1: TTabSheet;
    TabSheet2: TTabSheet;
    TabSheet3: TTabSheet;
    Image1: TImage;
    lblDietStreak: TLabel;
    lblWorkoutStreak: TLabel;
    lblWorkoutsCompleted: TLabel;
    lblShoulders: TLabel;
    lblBiceps: TLabel;
    lblAbs: TLabel;
    lblCalves: TLabel;
    lblBack: TLabel;
    lblGlutes: TLabel;
    lblQuads: TLabel;
    lblWeight: TLabel;
    lblHeight: TLabel;
    lblGender: TLabel;
    lblAge: TLabel;
    spnWeight: TSpinEdit;
    spnHeight: TSpinEdit;
    spnAge: TSpinEdit;
    cmbGender: TComboBox;
    Button1: TButton;
    Image2: TImage;
    Image3: TImage;
    Button2: TButton;
    RgbPull: TRadioButton;
    RgpPush: TRadioButton;
    RgpLegs: TRadioButton;
    Memo1: TMemo;
    Memo2: TMemo;
    Memo3: TMemo;
    Image4: TImage;
    DBGrid1: TDBGrid;
    procedure Button1Click(Sender: TObject);
    procedure Button2Click(Sender: TObject);

  private
    iWorkoutStreak, iDietStreak, iWorkoutsCompleted, iShoulders, iAbs, iBiceps,
      iCalves, iBack, iQuads, iGlutes: integer;
  public
    { Public declarations }
  end;

var
  Form4: TForm4;

implementation

{$R *.dfm}

procedure TForm4.Button1Click(Sender: TObject); // BMI Calculator

var
  rWeight, rHeight, rBMI, rAge: real;
  sSex: string;

begin
  rWeight := spnWeight.value;

  rHeight := spnHeight.value / 100;
  rAge := spnAge.value;

  rBMI := (rWeight) / (rHeight * rHeight);
  showmessage('Your bmi is  ' + floattostr(rBMI));

end;

procedure TForm4.Button2Click(Sender: TObject);
var
  UserID: Integer; // Assuming UserID is of type Integer
begin
  // Get the UserID from tblInformation (adjust the code to match your logic)
  UserID := dmIsolytic.tblInformation.FieldByName('UserID').AsInteger;

  if RgpPush.Checked then
  begin
    // Start a new insert for Push workout
    dmIsolytic.tblStats.Insert;
    // Set UserID to the new record
    dmIsolytic.tblStats.FieldByName('ID').AsInteger := UserID;

    // Increment Shoulders count
    dmIsolytic.tblStats.FieldByName('Shoulders').AsInteger := 1; // Start from 1 for a new workout

    // Post the new record
    dmIsolytic.tblStats.Post;

    ShowMessage('Push workout selected. Congratulations!');
  end
  else if RgbPull.Checked then
  begin
    // Start a new insert for Pull workout
    dmIsolytic.tblStats.Insert;
    // Set UserID to the new record
    dmIsolytic.tblStats.FieldByName('ID').AsInteger := UserID;

    // Increment Pull workout count
    dmIsolytic.tblStats.FieldByName('Pull').AsInteger := 1; // Start from 1 for a new workout

    // Post the new record
    dmIsolytic.tblStats.Post;

    ShowMessage('Pull workout selected. Congratulations!');
  end
  else if RgpLegs.Checked then
  begin
    // Start a new insert for Legs workout
    dmIsolytic.tblStats.Insert;
    // Set UserID to the new record
    dmIsolytic.tblStats.FieldByName('ID').AsInteger := UserID;

    // Increment Legs workout count
    dmIsolytic.tblStats.FieldByName('Legs').AsInteger := 1; // Start from 1 for a new workout

    // Post the new record
    dmIsolytic.tblStats.Post;

    ShowMessage('Legs workout selected. Congratulations!');
  end
  else
  begin
    ShowMessage('Please select a workout option.');
  end;
end;

end.
